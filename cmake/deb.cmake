# Copyright Open Logistics Foundation
# 
# Licensed under the Open Logistics Foundation License 1.3.
# For details on the licensing terms, see the LICENSE file.
# SPDX-License-Identifier: OLFL-1.3
# 

message(STATUS "Generating libvda5050++ DEB target.")
message(WARNING "The DEB package currently doesn't include licenses. NOT SUITABLE FOR DISTRIBUTION.")

# Unset all CPACK Variables for a clean setup
unset(CPACK_PACKAGE_NAME)
unset(CPACK_PACKAGE_VENDOR)
unset(CPACK_PACKAGE_DIRECTORY)
unset(CPACK_PACKAGE_VERSION_MAJOR)
unset(CPACK_PACKAGE_VERSION_MINOR)
unset(CPACK_PACKAGE_VERSION_PATCH)
unset(CPACK_PACKAGE_DESCRIPTION)
unset(CPACK_PACKAGE_DESCRIPTION_FILE)
unset(CPACK_PACKAGE_DESCRIPTION_SUMMARY)
unset(CPACK_PACKAGE_HOMEPAGE_URL)
unset(CPACK_PACKAGE_FILE_NAME)
unset(CPACK_PACKAGE_INSTALL_DIRECTORY)
unset(CPACK_PACKAGE_ICON)
unset(CPACK_PACKAGE_CHECKSUM)
unset(CPACK_PROJECT_CONFIG_FILE)
unset(CPACK_RESOURCE_FILE_LICENSE)
unset(CPACK_RESOURCE_FILE_README)
unset(CPACK_RESOURCE_FILE_WELCOME)
unset(CPACK_MONOLITHIC_INSTALL)
unset(CPACK_GENERATOR)
unset(CPACK_OUTPUT_CONFIG_FILE)
unset(CPACK_PACKAGE_EXECUTABLES)
unset(CPACK_STRIP_FILES)
unset(CPACK_VERBATIM_VARIABLES)
unset(CPACK_THREADS)
unset(CPACK_SOURCE_PACKAGE_FILE_NAME)
unset(CPACK_SOURCE_STRIP_FILES)
unset(CPACK_SOURCE_GENERATOR)
unset(CPACK_SOURCE_OUTPUT_CONFIG_FILE)
unset(CPACK_SOURCE_IGNORE_FILES)
unset(CPACK_CMAKE_GENERATOR)
unset(CPACK_INSTALL_CMAKE_PROJECTS)
unset(CPACK_SYSTEM_NAME)
unset(CPACK_PACKAGE_VERSION)
unset(CPACK_TOPLEVEL_TAG)
unset(CPACK_INSTALL_COMMANDS)
unset(CPACK_INSTALL_SCRIPTS)
unset(CPACK_PRE_BUILD_SCRIPTS)
unset(CPACK_POST_BUILD_SCRIPTS)
unset(CPACK_PACKAGE_FILES)
unset(CPACK_INSTALLED_DIRECTORIES)
unset(CPACK_PACKAGE_INSTALL_REGISTRY_KEY)
unset(CPACK_CREATE_DESKTOP_LINKS)
unset(CPACK_READELF_EXECUTABLE)
unset(CPACK_OBJCOPY_EXECUTABLE)
unset(CPACK_OBJDUMP_EXECUTABLE)

# Set libVDA5050++ CPACK variables
set(CPACK_RESOURCE_FILE_LICENSE ${PROJECT_SOURCE_DIR}/LICENSE)
set(CPACK_RESOURCE_FILE_README ${PROJECT_SOURCE_DIR}/README.md)
set(CPACK_GENERATOR "DEB")
set(CPACK_DEBIAN_PACKAGE_DEPENDS "libssl-dev, nlohmann-json3-dev, openssl")
set(CPACK_DEBIAN_PACKAGE_MAINTAINER "Jonas Kieran RÃ¶ger <jonas.kieran.roeger@iml.fraunhofer.de>")
set(CPACK_DEBIAN_PACKAGE_DESCRIPTION "A library implementing common VDA5050 logic. It can be used to quickly build VDA5050 compliant AGV solutions.")
set(CPACK_DEBIAN_PACKAGE_HOMEPAGE "https://git.openlogisticsfoundation.org/silicon-economy/libraries/vda5050/libvda5050pp")
set(CPACK_PACKAGE_DIRECTORY ${PROJECT_BINARY_DIR})

include(CPack)
